<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary Payment Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f7f6;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 400px;
        }

        h2 {
            text-align: center;
            color: #333;
            margin-bottom: 25px;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        input[type="number"], select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px;
        }

        button {
            width: 100%;
            padding: 12px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #0056b3;
        }

        .result-box {
            margin-top: 25px;
            padding: 15px;
            border: 2px solid #28a745;
            border-radius: 8px;
            background-color: #e6f7ea;
        }

        .result-box p {
            margin: 5px 0;
            font-size: 16px;
            color: #333;
        }

        .result-box strong {
            color: #007bff;
            font-size: 1.1em;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>ðŸ’° Salary Calculator</h2>

    <div class="form-group">
        <label for="monthlySalary">Monthly Salary (â‚¹):</label>
        <input type="number" id="monthlySalary" placeholder="e.g., 31000" min="0" value="31000">
    </div>

    <div class="form-group">
        <label for="selectMonth">Month:</label>
        <select id="selectMonth"></select>
    </div>

    <div class="form-group">
        <label for="presentDays">Total Present Days (e.g., 27.5):</label>
        <input type="number" id="presentDays" placeholder="e.g., 27.5" min="0" step="0.5" value="27.5">
    </div>

    <button onclick="calculatePayment()">Calculate Payment</button>

    <div class="result-box" id="result">
        <p>Calculated Daily Income: <strong id="dailyIncomeDisplay">â‚¹ 0.00</strong></p>
        <p>Total Calculated Income: <strong id="totalIncomeDisplay">â‚¹ 0.00</strong></p>
    </div>
</div>

<script>
    // Map of month index (0=Jan) to the number of days, defaulting to 31 (for simplicity, assumes non-leap year Feb 28)
    const monthDaysMap = {
        0: 31, // January
        1: 28, // February (simplified, adjust for leap year if needed)
        2: 31, // March
        3: 30, // April
        4: 31, // May
        5: 30, // June
        6: 31, // July
        7: 31, // August
        8: 30, // September
        9: 31, // October
        10: 30, // November
        11: 31  // December
    };

    const monthNames = [
        "January", "February", "March", "April", "May", "June", 
        "July", "August", "September", "October", "November", "December"
    ];

    /**
     * Populates the month dropdown and auto-selects the current month.
     */
    function setupMonthDropdown() {
        const selectElement = document.getElementById('selectMonth');
        const today = new Date();
        const currentMonthIndex = today.getMonth(); // 0 for Jan, 9 for Oct
        
        // Handle February for the current year
        const currentYear = today.getFullYear();
        if (currentYear % 4 === 0 && (currentYear % 100 !== 0 || currentYear % 400 === 0)) {
            monthDaysMap[1] = 29; // Leap year February
        } else {
            monthDaysMap[1] = 28; // Non-leap year February
        }

        monthNames.forEach((month, index) => {
            const option = document.createElement('option');
            // Store both name and number of days in the value attribute
            option.value = `${index}|${monthDaysMap[index]}`;
            option.textContent = `${month} (${monthDaysMap[index]} days)`;
            
            if (index === currentMonthIndex) {
                option.selected = true;
            }
            selectElement.appendChild(option);
        });

        // Run an initial calculation
        calculatePayment();
    }

    /**
     * Calculates the daily and total income based on user inputs.
     */
    function calculatePayment() {
        // 1. Get Inputs
        const monthlySalary = parseFloat(document.getElementById('monthlySalary').value);
        const presentDays = parseFloat(document.getElementById('presentDays').value);
        const selectedMonthValue = document.getElementById('selectMonth').value;

        const dailyIncomeDisplay = document.getElementById('dailyIncomeDisplay');
        const totalIncomeDisplay = document.getElementById('totalIncomeDisplay');
        
        // Basic validation
        if (isNaN(monthlySalary) || isNaN(presentDays) || monthlySalary < 0 || presentDays < 0) {
            dailyIncomeDisplay.textContent = 'â‚¹ 0.00';
            totalIncomeDisplay.textContent = 'â‚¹ 0.00';
            return;
        }

        // 2. Get Total Days in Selected Month (D)
        // selectedMonthValue is formatted as "index|days" (e.g., "9|31" for October)
        const totalDaysInMonth = parseFloat(selectedMonthValue.split('|')[1]);

        if (totalDaysInMonth === 0) {
            dailyIncomeDisplay.textContent = 'Error';
            totalIncomeDisplay.textContent = 'Error';
            return;
        }

        // 3. Calculate Daily Income
        // Daily Income = Monthly Salary / Total Days in Month (D)
        const dailyIncome = monthlySalary / totalDaysInMonth;

        // 4. Calculate Total Income
        // Total Income = Daily Income * Present Days
        const totalIncome = dailyIncome * presentDays;

        // 5. Display Results
        const formatter = new Intl.NumberFormat('en-IN', {
            style: 'currency',
            currency: 'INR',
            minimumFractionDigits: 2,
            maximumFractionDigits: 2,
        });

        dailyIncomeDisplay.textContent = formatter.format(dailyIncome);
        totalIncomeDisplay.textContent = formatter.format(totalIncome);
    }

    // Initialize the application when the page loads
    window.onload = setupMonthDropdown;

    // Attach the calculation function to input changes for a dynamic update
    document.getElementById('monthlySalary').addEventListener('input', calculatePayment);
    document.getElementById('presentDays').addEventListener('input', calculatePayment);
    document.getElementById('selectMonth').addEventListener('change', calculatePayment);
</script>

</body>
</html>
